<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BattleScript Pro - Карточная дуэль</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚔️</text></svg>">
</head>
<body>
    <div id="particles"></div>
    
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Подключение к серверу...</div>
        </div>
    </div>
    
    <div id="mainScreen" class="screen active-screen">
        <div class="main-container">
            <header class="main-header">
                <div class="title-container">
                    <h1 class="game-title">
                    </h1>
                </div>
            </header>
            
            <main class="dashboard">
                <div class="dashboard-column">
                    <div class="server-card">
                        <div class="card-header">
                            <i class="fas fa-server"></i>
                            <h3>Статус сервера</h3>
                        </div>
                        <div class="card-content">
                            <div class="connection-status">
                                <div class="status-indicator" id="statusIndicator"></div>
                                <span id="connectionStatusText">Подключение...</span>
                            </div>
                            <div class="server-stats-grid">
                                <div class="stat-item">
                                    <i class="fas fa-users"></i>
                                    <div class="stat-info">
                                        <span class="stat-value" id="onlinePlayers">0</span>
                                        <span class="stat-label">Онлайн</span>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <i class="fas fa-gamepad"></i>
                                    <div class="stat-info">
                                        <span class="stat-value" id="activeGames">0</span>
                                        <span class="stat-label">Игр</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="player-card">
                        <div class="card-header">
                            <i class="fas fa-user"></i>
                            <h3>Ваш профиль</h3>
                        </div>
                        <div class="card-content">
                            <div class="player-profile">
                                <div class="avatar-display">
                                    <img src="https://i.imgur.com/6V9zLqW.png" alt="Аватар" id="playerAvatarImg">
                                </div>
                                <div class="player-info">
                                    <div class="player-name" id="playerNameDisplay">Неизвестный игрок</div>
                                    <div class="player-status">
                                        <span class="status-badge" id="playerStatusBadge">Не в игре</span>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary btn-block" id="enterNameBtn">
                                <i class="fas fa-sign-in-alt"></i>
                                Войти в игру
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-column">
                    <div class="quick-actions-card">
                        <div class="card-header">
                            <i class="fas fa-bolt"></i>
                            <h3>Быстрые действия</h3>
                        </div>
                        <div class="card-content">
                            <div class="quick-actions-grid">
                                <button class="quick-action" id="quickJoinBtn">
                                    <div class="action-icon">
                                        <i class="fas fa-play-circle"></i>
                                    </div>
                                    <div class="action-info">
                                        <div class="action-title"></div>
                                        <div class="action-desc"></div>
                                    </div>
                                </button>
                                
                                <button class="quick-action" id="findOpponentBtn">
                                    <div class="action-icon">
                                        <i class="fas fa-search"></i>
                                    </div>
                                    <div class="action-info">
                                        <div class="action-title"></div>
                                        <div class="action-desc"></div>
                                    </div>
                                </button>
                                
                                <button class="quick-action" id="spectateBtn">
                                    <div class="action-icon">
                                        <i class="fas fa-eye"></i>
                                    </div>
                                    <div class="action-info">
                                        <div class="action-title"></div>
                                        <div class="action-desc"></div>
                                    </div>
                                </button>
                                
                                <button class="quick-action" id="deckBuilderBtn">
                                    <div class="action-icon">
                                        <i class="fas fa-layer-group"></i>
                                    </div>
                                    <div class="action-info">
                                        <div class="action-title"></div>
                                        <div class="action-desc"></div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-column">
                    <div class="stats-card">
                        <div class="card-header">
                            <i class="fas fa-chart-line"></i>
                            <h3>Статистика</h3>
                        </div>
                        <div class="card-content">
                            <div class="stats-grid">
                                <div class="stat-box">
                                    <div class="stat-value">0</div>
                                    <div class="stat-label">Побед</div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-value">0</div>
                                    <div class="stat-label">Поражений</div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-value">0%</div>
                                    <div class="stat-label">Винрейт</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <div id="gameScreen" class="screen">
        <!-- Верхние элементы управления -->
        <div class="game-controls-top">
            <div class="control-buttons-grid">
                <button class="control-btn btn-attack" id="attackBtn" title="Атаковать выбранным существом">
                    <i class="fas fa-fist-raised"></i>
                    <span class="btn-label">Атака</span>
                </button>
                
                <button class="control-btn btn-play" id="playCardBtn" title="Разыграть выбранную карту">
                    <i class="fas fa-play"></i>
                    <span class="btn-label">Играть</span>
                </button>
                
                <button class="control-btn btn-auto" id="autoAttackBtn" title="Автоматическая атака всех существ">
                    <i class="fas fa-robot"></i>
                    <span class="btn-label">Авто</span>
                </button>
                
                <button class="control-btn btn-artifact" id="useArtifactBtn" title="Использовать артефакт">
                    <i class="fas fa-magic"></i>
                    <span class="btn-label">Артефакт</span>
                </button>
                
                <button class="control-btn btn-end-turn" id="endTurnBtn" title="Завершить ход">
                    <i class="fas fa-forward"></i>
                    <span class="btn-label">Конец хода</span>
                </button>
            </div>
            
            <div class="turn-timer-section">
                <div class="turn-info">
                    <div class="turn-label">Ход:</div>
                    <div class="turn-player" id="currentTurnPlayer">Ожидание...</div>
                </div>
                <div class="timer-section">
                    <i class="fas fa-clock"></i>
                    <span class="timer-display" id="gameTimer">02:00</span>
                </div>
            </div>
        </div>
        
        <div class="game-container">
            <!-- Противник вверху -->
            <div class="opponent-panel">
                <div class="opponent-info">
                    <div class="opponent-avatar">
                        <img src="https://i.imgur.com/6V9zLqW.png" alt="Противник" id="opponentAvatarImg">
                    </div>
                    <div class="opponent-details">
                        <div class="opponent-name" id="opponentName">Противник</div>
                        <div class="opponent-stats">
                            <div class="health-stat">
                                <i class="fas fa-heart"></i>
                                <span id="opponentHealth">30</span>
                            </div>
                            <div class="mana-stat">
                                <i class="fas fa-gem"></i>
                                <span id="opponentMana">3</span>/<span id="opponentMaxMana">3</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="hand-info">
                    <i class="fas fa-hand-paper"></i>
                    <span id="opponentHandCount">0</span> карт
                </div>
            </div>
            
            <!-- Артефакты слева -->
            <div class="artifact-deck">
                <div class="deck-container" id="artifactDeckSide">
                    <div class="deck-icon">
                        <i class="fas fa-treasure-chest"></i>
                    </div>
                    <div class="deck-info">
                        <div class="deck-title">Артефакты</div>
                        <div class="deck-count" id="artifactDeckCount">10</div>
                    </div>
                </div>
            </div>
            
            <!-- Основное поле битвы -->
            <div class="battle-field">
                <div class="board-section opponent-board">
                    <div class="board-grid" id="opponentBoardGrid"></div>
                </div>
                
                <div class="center-divider">
                    <div class="battle-logo">⚔️</div>
                </div>
                
                <div class="board-section player-board">
                    <div class="board-grid" id="playerBoardGrid"></div>
                </div>
            </div>
            
            <!-- Колода справа -->
            <div class="player-deck">
                <div class="deck-container" id="playerDeckSide">
                    <div class="deck-icon">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <div class="deck-info">
                        <div class="deck-title">Колода</div>
                        <div class="deck-count" id="playerDeckCount">30</div>
                    </div>
                </div>
            </div>
            
            <!-- Игрок внизу -->
            <div class="player-panel">
                <div class="player-info">
                    <div class="player-avatar">
                        <img src="https://i.imgur.com/6V9zLqW.png" alt="Игрок" id="playerAvatarImgGame">
                    </div>
                    <div class="player-details">
                        <div class="player-name" id="playerNameGame">Игрок</div>
                        <div class="player-stats">
                            <div class="health-stat">
                                <i class="fas fa-heart"></i>
                                <span id="playerHealth">30</span>
                            </div>
                            <div class="mana-stat">
                                <i class="fas fa-gem"></i>
                                <span id="playerMana">3</span>/<span id="playerMaxMana">3</span>
                            </div>
                        </div>
                        <div class="player-status" id="playerStatusGame">Ожидание хода...</div>
                    </div>
                </div>
                <div class="quest-info">
                    <div class="quest-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="questProgressFill"></div>
                        </div>
                        <span class="progress-text" id="questProgressText">0/0</span>
                    </div>
                    <div class="quest-description" id="currentQuest">Выполните условие</div>
                </div>
            </div>
        </div>
        
        <!-- Рука игрока в самом низу -->
        <div class="player-hand-section">
            <div class="hand-header">
                <i class="fas fa-hand-paper"></i>
                <span>Ваша рука (<span id="playerHandCount">0</span>)</span>
            </div>
            <div class="hand-cards" id="playerHand"></div>
        </div>
        
        <!-- Боковая панель -->
        <button class="panel-toggle" id="panelToggle">
            <i class="fas fa-chevron-left"></i>
        </button>
        
        <div class="side-panel" id="sidePanel">
            <div class="panel-tabs">
                <button class="tab-btn active" data-tab="log">
                    <i class="fas fa-scroll"></i>
                    <span>Журнал</span>
                </button>
                <button class="tab-btn" data-tab="artifacts">
                    <i class="fas fa-treasure-chest"></i>
                    <span>Артефакты</span>
                </button>
                <button class="tab-btn" data-tab="chat">
                    <i class="fas fa-comments"></i>
                    <span>Чат</span>
                </button>
            </div>
            
            <div class="panel-content">
                <div class="tab-content active" id="logTab">
                    <div class="log-container" id="gameLog"></div>
                </div>
                
                <div class="tab-content" id="artifactsTab">
                    <div class="artifacts-container" id="artifactContainer"></div>
                </div>
                
                <div class="tab-content" id="chatTab">
                    <div class="chat-container">
                        <div class="chat-messages" id="chatMessages"></div>
                        <div class="chat-input">
                            <input type="text" id="chatInput" placeholder="Введите сообщение..." maxlength="200">
                            <button class="chat-send-btn" id="sendChatBtn">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="nameModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-user-edit"></i> Вход в игру</h3>
                <button class="modal-close" id="closeNameModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="avatar-selection">
                    <h4>Выберите аватар:</h4>
                    <div class="avatars-grid" id="avatarsGrid"></div>
                </div>
                <div class="name-input-section">
                    <h4>Введите имя игрока:</h4>
                    <div class="input-group">
                        <input type="text" id="nameInput" placeholder="Ваше имя" maxlength="20">
                        <div class="input-hint">Максимум 20 символов</div>
                    </div>
                    <div class="name-suggestions">
                        <span>Или выберите:</span>
                        <div class="suggestion-buttons">
                            <button class="suggestion-btn" data-name="Воин">Воин</button>
                            <button class="suggestion-btn" data-name="Маг">Маг</button>
                            <button class="suggestion-btn" data-name="Лучник">Лучник</button>
                            <button class="suggestion-btn" data-name="Некромант">Некромант</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelNameBtn">Отмена</button>
                <button class="btn btn-primary" id="confirmNameBtn">Войти</button>
            </div>
        </div>
    </div>
    
    <div id="gameMenuModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-bars"></i> Меню игры</h3>
                <button class="modal-close" id="closeMenuModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="menu-options">
                    <button class="menu-option" id="resumeGameBtn">
                        <i class="fas fa-play"></i>
                        <span>Продолжить игру</span>
                    </button>
                    <button class="menu-option" id="surrenderGameBtn">
                        <i class="fas fa-flag"></i>
                        <span>Сдаться</span>
                    </button>
                    <button class="menu-option" id="returnToMainBtn">
                        <i class="fas fa-home"></i>
                        <span>Выйти в меню</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="config.js"></script>
    <script src="client.js"></script>
</body>
</html>